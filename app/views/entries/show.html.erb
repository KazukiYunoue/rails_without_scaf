<% if notice %>
  <div class="alert alert-success"><%= notice %></div>
<% end %>
<h1><%= @blog.title %></h1>
<div>
  <h3>Title</h3>
  <p><%= @entry.title %></p>
</div>
<div>
  <h3>Body</h3>
  <p><%= @entry.body %></p>
</div>
<%= link_to 'Edit', edit_entry_path(@entry) %> |
<%= link_to 'Back', blog_entries_path(@blog) %>

<h2>Listing comments</h2>
<table>
  <tr>
    <th>Body</th>
    <th></th>
    <th></th>
  </tr>
  <% @comments.each do |comment| %>
    <tr>
      <td>
        <%= comment.status == 'approved' ? comment.body : '(承認待ち)' %></td>
      <td><%= link_to 'Approve', approve_comment_path(comment), method: :patch if comment.status == 'unapproved' %></td>
      <td><%= link_to 'Destroy', comment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>

<%= form_with(model: @comment, url: [@entry, @comment], local: true) do |form| %>
  <div>
    <%= form.label :body %>
    <%= form.text_area :body %>
  </div>
  <div>
    <%= form.submit 'Save' %>
  </div>
<% end %>